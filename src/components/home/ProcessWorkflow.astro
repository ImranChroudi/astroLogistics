---
import { Image } from 'astro:assets';

import discoveryImg from '@assets/photo-1454165804606-c3d57bc86b40.jpg';
import implementationImg from '@assets/photo-1522071820081-009f0129c71c.jpg';
import optimizationImg from '@assets/photo-1551288049-bebda4e38f71.jpg';
import supportGrowthImg from '@assets/photo-1552664730-d307ca884978.jpg';

interface Step {
  number: number;
  title: string;
  description: string;
  image: ImageMetadata;
  alt: string;
  hoverBorder: string;
  gradient: string;
  textColor: string;
}

const steps = [
  {
    number: 1,
    title: "Needs Assessment",
    description: "Strategic evaluation of your supply chain, identifying opportunities and designing a tailored transformation roadmap aligned with your vision.",
    image: discoveryImg,
    alt: "Strategic business assessment",
    hoverBorder: "hover:border-cyan-500",
    gradient: "from-cyan-600/90",
    textColor: "text-cyan-600"
  },
  {
    number: 2,
    title: "Deployment",
    description: "Seamless system integration and infrastructure setup with dedicated project management ensuring zero operational downtime.",
    image: implementationImg,
    alt: "Team deployment and setup",
    hoverBorder: "hover:border-blue-500",
    gradient: "from-blue-600/90",
    textColor: "text-blue-600"
  },
  {
    number: 3,
    title: "Performance Tuning",
    description: "Data-driven analysis and continuous improvements to maximize efficiency, reduce costs, and enhance operational excellence.",
    image: optimizationImg,
    alt: "Performance optimization",
    hoverBorder: "hover:border-teal-500",
    gradient: "from-teal-600/90",
    textColor: "text-teal-600"
  },
  {
    number: 4,
    title: "Partnership & Scale",
    description: "Ongoing strategic support, advanced training, and proactive optimization to help your business scale with confidence.",
    image: supportGrowthImg,
    alt: "Growth and partnership",
    hoverBorder: "hover:border-indigo-500",
    gradient: "from-indigo-600/90",
    textColor: "text-indigo-600"
  }
];

const arrowPath = "M9 5l7 7-7 7";
---

<section class="py-32 bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-20">
      <div class="inline-block px-4 py-2 mb-6 text-cyan-400 text-sm font-semibold rounded-full bg-cyan-500/20 border border-cyan-500/50">
        Our Methodology
      </div>
      <h2 class="text-5xl md:text-6xl font-bold text-white mb-6">
        Four-Step <span class="bg-clip-text bg-gradient-to-r from-cyan-400 via-blue-400 to-teal-400">Transformation</span> Process
      </h2>
      <p class="text-xl text-slate-300 max-w-3xl mx-auto leading-relaxed">
        A structured approach that delivers measurable results, from strategic planning through continuous optimization.
      </p>
    </div>

    <div class="relative">
      <!-- Connection Line (hidden on mobile) -->
      <div class="hidden lg:block absolute top-24 left-0 right-0 h-1 bg-gradient-to-r from-cyan-500 via-blue-500 to-teal-500 opacity-30"></div>

      <div class="flex flex-wrap justify-center gap-8 relative">
        {steps.map((step, index) => (
          <div class="w-full sm:w-1/2 lg:w-1/4 flex items-stretch">
            <div class={`w-full bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all border-2 border-slate-700 ${step.hoverBorder} relative z-10 flex flex-col h-full group hover:border-opacity-100 duration-300`}>
              <div class="relative h-48 overflow-hidden bg-slate-800">
                <Image 
                  src={step.image}
                  alt={step.alt}
                  class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
                  width={800}
                  height={400}
                />
                <div class={`absolute inset-0 bg-gradient-to-t ${step.gradient} to-transparent opacity-80`}></div>
                <div class={`absolute top-4 right-4 w-14 h-14 rounded-full bg-white shadow-lg flex items-center justify-center ${step.textColor} font-bold text-2xl`}>
                  {step.number}
                </div>
              </div>
              <div class="p-8 flex flex-col flex-1">
                <h3 class="text-xl font-bold text-white mb-3 group-hover:text-cyan-400 transition-colors">{step.title}</h3>
                <p class="text-slate-300 leading-relaxed flex-1 text-sm">
                  {step.description}
                </p>
                <div class={`mt-6 flex items-center text-sm ${step.textColor} font-semibold group-hover:translate-x-1 transition-transform`}>
                  Learn more
                  <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d={arrowPath} />
                  </svg>
                </div>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>

   
  </div>
</section>